{"version":3,"sources":["services/productsService.ts","store/products-slice.ts","store/cart-slice.ts","components/cart/Icon.tsx","components/cart/HeaderButton.tsx","components/Layout/Header.tsx","images/bac2.jpg","components/pages/Home.tsx","UI/Card.tsx","components/products/ProductItem.tsx","components/pages/Products.tsx","components/pages/ProductItemPage.tsx","UI/Modal.tsx","components/cart/CartItem.tsx","components/cart/Cart.tsx","components/Layout/Layout.tsx","components/pages/Loading.tsx","App.tsx","store/store.ts","index.tsx"],"names":["fetchCategories","a","fetch","then","response","ok","json","catch","error","fetchProducts","productsSlice","createSlice","name","initialState","categories","products","activeCategory","reducers","setCategories","state","action","payload","setProducts","setActiveCategory","productsActions","actions","cartSlice","isCartVisible","items","totalAmount","totalPrice","changed","toggle","addToCart","price","newItem","existingItem","find","item","id","amount","push","title","removeFromCart","filter","getItemsFromLocalStorage","removeItemsFromLocalStorage","localStorage","removeItem","cartActions","Icon","xmlns","viewBox","fill","d","HeaderButton","useState","isBtnBump","setIsBtnBump","cart","useSelector","numberOfCartItems","reduce","currentNumber","useEffect","length","timer","setTimeout","clearTimeout","btnClasses","className","Header","showCartHandler","dispatch","useDispatch","productsList","map","onClick","setItem","to","Home","src","image","alt","Card","children","ProductItem","description","productsState","Products","activeProducts","product","category","toUpperCase","activeCategoryFromLocalStorage","getItem","ProductItemPage","location","useLocation","navigation","useNavigate","addItemToCart","Backdrop","onClose","ModalOverlay","Modal","ReactDOM","createPortal","document","getElementById","CartItem","itemPrice","removeItemHandler","Cart","cartState","totalOrderPrice","toFixed","cartItems","content","Layout","showCart","setShowCart","cartTotalPrice","JSON","stringify","Fragment","path","element","Loading","CircularProgress","cartFromLocalStorage","parse","priceFromLocalStorage","App","isLoading","setIsLoading","setError","data","store","configureStore","reducer","render"],"mappings":"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","file":"static/js/main.8643570b.chunk.js","sourcesContent":["export const fetchCategories = async () => {\r\n  return fetch(`https://fakestoreapi.com/products/categories`)\r\n    .then((response) => {\r\n      if (!response.ok) {\r\n        throw response;\r\n      }\r\n      return response.json();\r\n    })\r\n    .catch((error) => {\r\n      throw error;\r\n    });\r\n};\r\n\r\nexport const fetchProducts = async () => {\r\n  return fetch(`https://fakestoreapi.com/products`)\r\n    .then((response) => {\r\n      if (!response.ok) {\r\n        throw response;\r\n      }\r\n      return response.json();\r\n    })\r\n    .catch((error) => {\r\n      throw error;\r\n    });\r\n};\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\ninterface ProductsState {\r\n  categories: string[];\r\n  products: [];\r\n  activeCategory: string;\r\n}\r\n\r\nconst initialState: ProductsState = {\r\n  categories: [],\r\n  products: [],\r\n  activeCategory: \"\",\r\n};\r\n\r\nconst productsSlice = createSlice({\r\n  name: \"products\",\r\n  initialState: initialState,\r\n  reducers: {\r\n    setCategories(state, action) {\r\n      state.categories = action.payload;\r\n    },\r\n    setProducts(state, action) {\r\n      state.products = action.payload;\r\n    },\r\n    setActiveCategory(state, action) {\r\n      state.activeCategory = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const productsActions = productsSlice.actions;\r\n\r\nexport default productsSlice;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\ninterface CartItem {\r\n  id: number;\r\n  price: number;\r\n  title: string;\r\n  amount: number;\r\n  totalPrice: number;\r\n}\r\n\r\ninterface InitialCartState {\r\n  isCartVisible: boolean;\r\n  items: CartItem[];\r\n  totalAmount: number;\r\n  totalPrice: number;\r\n  changed: boolean;\r\n}\r\n\r\nconst initialState: InitialCartState = {\r\n  isCartVisible: false,\r\n  items: [],\r\n  totalAmount: 0,\r\n  totalPrice: 0,\r\n  changed: false,\r\n};\r\n\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState: initialState,\r\n  reducers: {\r\n    toggle(state) {\r\n      state.isCartVisible = !state.isCartVisible;\r\n    },\r\n    // replaceCart(state, action) {\r\n    //   state.totalAmount = action.payload.totalAmount;\r\n    //   state.items = action.payload.items;\r\n    // },\r\n    addToCart(state, action) {\r\n      state.totalPrice += action.payload.price;\r\n      state.changed = true;\r\n      state.totalAmount++;\r\n      const newItem = action.payload;\r\n      const existingItem = state.items.find((item) => item.id === newItem.id);\r\n      if (!existingItem) {\r\n        state.items.push({\r\n          id: newItem.id,\r\n          price: newItem.price,\r\n          amount: 1,\r\n          totalPrice: newItem.price,\r\n          title: newItem.title,\r\n        });\r\n      } else {\r\n        existingItem.amount = existingItem.amount + 1;\r\n        existingItem.totalPrice = existingItem.totalPrice + newItem.price;\r\n      }\r\n    },\r\n    removeFromCart(state, action) {\r\n      const { id, price } = action.payload;\r\n      state.totalPrice -= price;\r\n      state.changed = true;\r\n      state.totalAmount--;\r\n      const existingItem = state.items.find((item) => item.id === id);\r\n      if (existingItem!.amount === 1) {\r\n        state.items = state.items.filter((item) => item.id !== id);\r\n      } else {\r\n        existingItem!.amount--;\r\n        existingItem!.totalPrice =\r\n          existingItem!.totalPrice - existingItem!.price;\r\n      }\r\n    },\r\n    getItemsFromLocalStorage(state, action) {\r\n      state.items = action.payload.items;\r\n      state.totalPrice = action.payload.price;\r\n    },\r\n    removeItemsFromLocalStorage(state) {\r\n      localStorage.removeItem(\"cart\");\r\n      localStorage.removeItem(\"price\");\r\n      state.items = [];\r\n      state.totalPrice = 0;\r\n    },\r\n  },\r\n});\r\n\r\nexport const cartActions = cartSlice.actions;\r\n\r\nexport default cartSlice;\r\n","const Icon = () => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 20 20\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path d=\"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Icon;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { RootStateOrAny, useSelector } from \"react-redux\";\r\n\r\nimport Icon from \"./Icon\";\r\n\r\nconst HeaderButton: React.FC = () => {\r\n  const [isBtnBump, setIsBtnBump] = useState(false);\r\n\r\n  const cart = useSelector((state: RootStateOrAny) => state.cart);\r\n\r\n  const numberOfCartItems = cart.items.reduce(\r\n    (currentNumber: number, item: any) => {\r\n      return currentNumber + item.amount;\r\n    },\r\n    0\r\n  );\r\n\r\n  const { items } = cart;\r\n\r\n  useEffect(() => {\r\n    if (items.length === 0) return;\r\n\r\n    setIsBtnBump(true);\r\n\r\n    const timer = setTimeout(() => {\r\n      setIsBtnBump(false);\r\n    }, 300);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [items]);\r\n\r\n  const btnClasses = `cart__button ${isBtnBump ? \"bump\" : \"\"}`;\r\n\r\n  return (\r\n    <button className={btnClasses}>\r\n      <span className=\"icon\">\r\n        <Icon />\r\n      </span>\r\n      <span>Your cart</span>\r\n      <span className=\"badge\">{numberOfCartItems}</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default HeaderButton;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector, useDispatch, RootStateOrAny } from \"react-redux\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport \"../../styles/App.scss\";\r\n\r\nimport { productsActions } from \"../../store/products-slice\";\r\nimport HeaderButton from \"../cart/HeaderButton\";\r\n\r\ninterface HeaderProps {\r\n  showCartHandler: () => void;\r\n}\r\n\r\nconst Header: React.FC<HeaderProps> = ({ showCartHandler }) => {\r\n  const products = useSelector((state: RootStateOrAny) => state.products);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const productsList = products.categories.map((item: any) => (\r\n    <li\r\n      key={item}\r\n      onClick={() => {\r\n        localStorage.setItem(\"activeCategory\", item);\r\n        dispatch(productsActions.setActiveCategory(item));\r\n      }}\r\n    >\r\n      <Link to=\"/products\"> {item}</Link>\r\n    </li>\r\n  ));\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <h1>Shop App</h1>\r\n      <nav>\r\n        <ul>\r\n          <li>\r\n            <NavLink to=\"/home\">About us</NavLink>\r\n          </li>\r\n          <li>\r\n            Products\r\n            <ul className=\"productsList\">{productsList}</ul>\r\n          </li>\r\n          <li>\r\n            <NavLink to=\"/home\">Contact</NavLink>\r\n          </li>\r\n          <li onClick={showCartHandler}>\r\n            <HeaderButton />\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/bac2.a8de51a6.jpg\";","import image from \"../../images/bac2.jpg\";\r\n\r\nconst Home: React.FC = () => {\r\n  return (\r\n    <div className=\"home\">\r\n      <h1>Your online shop - check us!</h1>\r\n      <img src={image} alt=\"background home\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","interface CardProps {\r\n  className?: string;\r\n}\r\n\r\nconst Card: React.FC<CardProps> = ({ children, className }) => {\r\n  return <div className={`card ${className}`}>{children}</div>;\r\n};\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport { useSelector, RootStateOrAny } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Card from \"../../UI/Card\";\r\n\r\ninterface ProductItemProps {\r\n  src: string;\r\n  title: string;\r\n  price: number;\r\n  id: number;\r\n  description: string;\r\n}\r\n\r\nconst ProductItem: React.FC<ProductItemProps> = ({\r\n  src,\r\n  title,\r\n  price,\r\n  description,\r\n  id,\r\n}) => {\r\n  const productsState = useSelector((state: RootStateOrAny) => state.products);\r\n\r\n  return (\r\n    <Link\r\n      to={`/products/${productsState.activeCategory}/${id}`}\r\n      state={{ src, title, price, description, id }}\r\n    >\r\n      <Card className=\"product\">\r\n        <img src={src} alt={src} />\r\n        <h6>{title}</h6>\r\n        <p>{price} $</p>\r\n      </Card>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default ProductItem;\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector, RootStateOrAny, useDispatch } from \"react-redux\";\r\nimport { productsActions } from \"../../store/products-slice\";\r\n\r\nimport ProductItem from \"../products/ProductItem\";\r\n\r\nconst Products: React.FC = () => {\r\n  const productsState = useSelector((state: RootStateOrAny) => state.products);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const activeProducts = productsState.products.filter(\r\n    (product: any) =>\r\n      product.category.toUpperCase() ===\r\n      productsState.activeCategory.toUpperCase()\r\n  );\r\n\r\n  useEffect(() => {\r\n    const activeCategoryFromLocalStorage =\r\n      localStorage.getItem(\"activeCategory\") || \"\";\r\n    if (!productsState.activeCategory) {\r\n      dispatch(\r\n        productsActions.setActiveCategory(activeCategoryFromLocalStorage)\r\n      );\r\n    }\r\n  }, [productsState.activeCategory, dispatch]);\r\n\r\n  const productsList = activeProducts.map((product: any) => (\r\n    <ProductItem\r\n      key={product.id}\r\n      id={product.id}\r\n      src={product.image}\r\n      title={product.title}\r\n      price={product.price}\r\n      description={product.description}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <div className=\"products\">\r\n      <h1>Products</h1>\r\n      <span className=\"underline\"></span>\r\n      <div className=\"wrapper\">{productsList}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n","import React from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport Card from \"../../UI/Card\";\r\n\r\nimport { cartActions } from \"../../store/cart-slice\";\r\n\r\nconst ProductItemPage: React.FC = () => {\r\n  const location = useLocation();\r\n  const navigation = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const { id, src, title, price, description } = location.state;\r\n\r\n  const addItemToCart = (id: number, price: number, title: string) => {\r\n    dispatch(cartActions.addToCart({ id, price, title }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"products\">\r\n      <h1>{title}</h1>\r\n      <span className=\"underline\"></span>\r\n      <Card className=\"product__details\">\r\n        <div className=\"image\">\r\n          <img src={src} alt=\"src\" />\r\n        </div>\r\n        <div className=\"description\">\r\n          <h3>{title}</h3>\r\n          <h6>{description}</h6>\r\n          <p>Price: {price} $</p>\r\n          <div className=\"actions\">\r\n            <button\r\n              className=\"button__cart\"\r\n              onClick={() => addItemToCart(id, price, title)}\r\n            >\r\n              Add to Cart\r\n            </button>\r\n            <button className=\"button__alt\" onClick={() => navigation(-1)}>\r\n              Back to Products{\" \"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductItemPage;\r\n","import React from \"react\";\r\nimport { Fragment } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport \"../styles/Modal.scss\";\r\n\r\ninterface ModalProps {\r\n  onClose: () => void;\r\n}\r\n\r\nconst Backdrop: React.FC<ModalProps> = ({ onClose }) => {\r\n  return <div className=\"backdrop\" onClick={onClose}></div>;\r\n};\r\n\r\nconst ModalOverlay: React.FC = ({ children }) => {\r\n  return <div className=\"content\">{children}</div>;\r\n};\r\n\r\nconst Modal: React.FC<ModalProps> = ({ onClose, children }) => {\r\n  return (\r\n    <Fragment>\r\n      {ReactDOM.createPortal(\r\n        <Backdrop onClose={onClose} />,\r\n        document.getElementById(\"overlays\") as HTMLElement\r\n      )}\r\n      {ReactDOM.createPortal(\r\n        <ModalOverlay>{children}</ModalOverlay>,\r\n        document.getElementById(\"overlays\") as HTMLElement\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport \"../../styles/Modal.scss\";\r\n\r\nimport { cartActions } from \"../../store/cart-slice\";\r\n\r\ninterface CartItemProps {\r\n  id: number;\r\n  title: string;\r\n  price: number;\r\n  totalPrice: number;\r\n  amount: number;\r\n}\r\n\r\nconst CartItem: React.FC<CartItemProps> = ({\r\n  amount,\r\n  id,\r\n  price,\r\n  title,\r\n  totalPrice,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const removeItemHandler = (id: number, price: number) => {\r\n    dispatch(cartActions.removeFromCart({ id, price }));\r\n  };\r\n\r\n  const addItemToCart = (id: number, price: number, title: string) => {\r\n    dispatch(cartActions.addToCart({ id, price, title }));\r\n  };\r\n\r\n  const itemPrice = `$${price}`;\r\n\r\n  return (\r\n    <li className=\"cart__item\">\r\n      <div>\r\n        <h4>{title}</h4>\r\n        <div className=\"summary\">\r\n          <span className=\"price\">{itemPrice}</span>\r\n          <span className=\"amount\">x {amount}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"actions\">\r\n        <button onClick={() => removeItemHandler(id, price)}>−</button>\r\n        <button onClick={() => addItemToCart(id, price, title)}>+</button>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import React, { Fragment } from \"react\";\r\nimport { useSelector, RootStateOrAny, useDispatch } from \"react-redux\";\r\n\r\nimport \"../../styles/Modal.scss\";\r\n\r\nimport { cartActions } from \"../../store/cart-slice\";\r\n\r\nimport Modal from \"../../UI/Modal\";\r\nimport CartItem from \"./CartItem\";\r\n\r\ninterface CartProps {\r\n  onClose: () => void;\r\n}\r\n\r\nconst Cart: React.FC<CartProps> = ({ onClose }) => {\r\n  const cartState = useSelector((state: RootStateOrAny) => state.cart);\r\n  const dispatch = useDispatch();\r\n\r\n  const totalOrderPrice = cartState.totalPrice.toFixed(2);\r\n\r\n  const clearLocalStorage = () => {\r\n    dispatch(cartActions.removeItemsFromLocalStorage());\r\n  };\r\n\r\n  const cartItems = (\r\n    <ul className=\"cart__items\">\r\n      {cartState.items.map((item: any) => (\r\n        <CartItem\r\n          id={item.id}\r\n          title={item.title}\r\n          amount={item.amount}\r\n          totalPrice={item.totalPrice}\r\n          price={item.price}\r\n          key={item.id}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n\r\n  const content = (\r\n    <Fragment>\r\n      {cartItems}\r\n      <div className=\"total\">\r\n        <span>Total order amount: </span>\r\n        <span>\r\n          <strong>${totalOrderPrice}</strong>\r\n        </span>\r\n      </div>\r\n      <div className=\"actions\">\r\n        <button className=\"order\" onClick={clearLocalStorage}>\r\n          Order\r\n        </button>\r\n        <button onClick={onClose}>Close</button>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n\r\n  return <Modal onClose={onClose}>{content}</Modal>;\r\n};\r\n\r\nexport default Cart;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Routes, Route, Navigate } from \"react-router-dom\";\r\nimport { RootStateOrAny, useSelector } from \"react-redux\";\r\n\r\nimport Header from \"./Header\";\r\nimport Home from \"../pages/Home\";\r\nimport Products from \"../pages/Products\";\r\nimport ProductItemPage from \"../pages/ProductItemPage\";\r\nimport Cart from \"../cart/Cart\";\r\n\r\nconst Layout: React.FC = () => {\r\n  const [showCart, setShowCart] = useState(false);\r\n\r\n  const cartItems = useSelector((state: RootStateOrAny) => state.cart.items);\r\n  const cartTotalPrice = useSelector(\r\n    (state: RootStateOrAny) => state.cart.totalPrice\r\n  );\r\n\r\n  const closeCartHandler = () => {\r\n    setShowCart(false);\r\n  };\r\n\r\n  const showCartHandler = () => {\r\n    setShowCart(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"cart\", JSON.stringify(cartItems));\r\n    localStorage.setItem(\"price\", JSON.stringify(cartTotalPrice));\r\n  }, [cartItems, cartTotalPrice]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {showCart && <Cart onClose={closeCartHandler} />}\r\n      <div className=\"App\">\r\n        <header>\r\n          <Header showCartHandler={showCartHandler} />\r\n        </header>\r\n        <main>\r\n          <Routes>\r\n            <Route path=\"/\" element={<Home />} />\r\n            <Route path=\"home\" element={<Home />} />\r\n            <Route path=\"products\" element={<Products />} />\r\n            <Route\r\n              path=\"products/:category/:productId\"\r\n              element={<ProductItemPage />}\r\n            />\r\n            <Route path=\"*\" element={<Navigate to=\"/home\" />} />\r\n          </Routes>\r\n        </main>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import CircularProgress from \"@mui/material/CircularProgress\";\r\n\r\nconst Loading: React.FC = () => {\r\n  return (\r\n    <div className=\"loading\">\r\n      <CircularProgress />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector, RootStateOrAny } from \"react-redux\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport \"./styles/App.scss\";\n\nimport { fetchCategories, fetchProducts } from \"./services/productsService\";\nimport { productsActions } from \"./store/products-slice\";\nimport { cartActions } from \"./store/cart-slice\";\n\nimport Layout from \"./components/Layout/Layout\";\nimport Loading from \"./components/pages/Loading\";\n\nconst cartFromLocalStorage = JSON.parse(localStorage.getItem(\"cart\") || \"[]\");\nconst priceFromLocalStorage = JSON.parse(localStorage.getItem(\"price\") || \"\");\n\nfunction App() {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  const dispatch = useDispatch();\n  const products = useSelector((state: RootStateOrAny) => state.products);\n\n  useEffect(() => {\n    dispatch(\n      cartActions.getItemsFromLocalStorage({\n        items: cartFromLocalStorage,\n        price: priceFromLocalStorage,\n      })\n    );\n\n    setIsLoading(true);\n    fetchProducts()\n      .then((data: any) => {\n        dispatch(productsActions.setProducts(data));\n      })\n      .catch((error: any) => setError(error));\n\n    fetchCategories()\n      .then((data) => {\n        dispatch(productsActions.setCategories(data));\n        setIsLoading(false);\n      })\n      .catch((error) => setError(error));\n  }, [dispatch, products.products.length, products.categories.length]);\n\n  return (\n    <Router>\n      <div className=\"App\">\n        {!isLoading && <Layout />}\n        {isLoading && <Loading />}\n        {!isLoading && error && <div>Something went wrong!</div>}\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\r\n\r\nimport cartSlice from \"./cart-slice\";\r\nimport productsSlice from \"./products-slice\";\r\n\r\nconst store = configureStore({\r\n  reducer: { cart: cartSlice.reducer, products: productsSlice.reducer },\r\n});\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport \"./styles/index.scss\";\nimport App from \"./App\";\n\nimport store from \"./store/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}